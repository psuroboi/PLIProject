 /* RCBI67M - EXTRACT REFERENCE OF RCBT0670_CCMS_KEYS                */ 00019111
 /*                                                                  */ 00020000
 /* 5695-153 (C) COPYRIGHT IBM EMEA WORLD TRADE CORPORATION 1991     */ 00030000
 /* LICENSED MATERIAL - PROGRAM PROPERTY OF IBM                      */ 00040000
 /* REFER TO COPYRIGHT INSTRUCTIONS: FORM G120-2083                  */ 00050000
 /*                                                                  */ 00060000
 /********************************************************************/ 00070000
 /* PROGRAM          : RCBI67M                                       */ 00080000
 /*                                                                  */ 00090000
 /* LANGUAGE         : PLISQL                                        */ 00100000
 /*                                                                  */ 00110000
 /* TYPE             : LINKABLE MODULE                               */ 00120000
 /*                                                                  */ 00130000
 /* DATE GENERATED   : 5 OCT 1999 - 11:08:40                         */ 00140000
 /*                                                                  */ 00150000
 /* GENERATED BY     : RCBI0PZ0 - GENERATE EXTRACT REFERENCE PROGRAM */ 00160000
 /*                                                                  */ 00170000
 /* DESCRIPTION      : ELEMENTARY REFERENCE (EXTRACT)                */ 00180000
 /*                    OF ROW IN TABLE RCBT0670_CCMS_KEYS            */ 00190000
 /*                                                                  */ 00200000
 /* INPUT            : PRIMARY-KEYS                                  */ 00210000
 /*                                                                  */ 00220000
 /* OUTPUT           : RCBV0670_CCMS_KEYS                            */ 00230000
 /*                                                                  */ 00240000
 /* MESSAGES         :                                               */ 00250000
 /*                                                                  */ 00260000
 /* MAINTENANCE LOG  :                                               */ 00270000
 /* ---------------                                                  */ 00280000
 /*                                                                  */ 00290000
 /* DATE       | WORK-ITEMNO. | DESCRIPTION                          */ 00300000
 /* -----------+--------------+------------------------------------  */ 00310000
 /* 1991-08-23 |              | CEDS INITIAL DEVELOPMENT             */ 00320000
 /* 1997-04-08 | PTM1036      | USE STANDARD PROLOG                  */ 00330000
 /* 1999-10-11 | RA01220      | RECOMPILE BECAUSE OF CHANGED INCLUDE */ 00340000
 /*            |              | MEMBERS RCB670S & RCB670SI           */ 00350000
 /*            |              |                                      */ 00360000
 /********************************************************************/ 00370000
1RCBI67M: PROC (RCB670S_PTR,                                            00380000
                RCB670SI_PTR,                                           00390000
                RCBZ02S_PTR,                                            00400000
                PARM_INT_AREA_PTR)                                      00410000
          OPTIONS (REENTRANT)                                           00420000
          REORDER;                                                      00430000
0/********************************************************************/ 00440000
 /*                 P A R A M E T E R S                              */ 00450000
 /********************************************************************/ 00460000
0DCL RCB670S_PTR    PTR;               /* PTR ROW                    */ 00470000
 DCL 1 RCB670S      BASED(RCB670S_PTR),                                 00480000
      %INCLUDE RCB670S;;                                                00490000
0DCL RCB670SI_PTR   PTR;               /* PTR NULL INDICATORS        */ 00500000
 DCL 1 RCB670SI     BASED(RCB670SI_PTR),                                00510000
      %INCLUDE RCB670SI;;                                               00520000
0DCL RCBZ02S_PTR    PTR;               /* PTR RETURN INFO            */ 00530000
 DCL 1 RCBZ02S      BASED(RCBZ02S_PTR),                                 00540000
      %INCLUDE RCBZ02S;;                                                00550000
 DCL 1 SQLCA_R      BASED(ADDR(RCBZ02S.RETURN_SQL))                     00560000
                    LIKE SQLCA;                                         00570000
0DCL PARM_INT_AREA_PTR PTR;            /* PTR INTERFACE AREA         */ 00580000
 DCL 1 PARM_INT_AREA BASED(PARM_INT_AREA_PTR),                          00590000
      %INCLUDE RCBZ01S;;                                                00600000
0/********************************************************************/ 00610000
 /*                 S Q L    D E C L A R A T I O N S                 */ 00620000
 /********************************************************************/ 00630000
 EXEC SQL INCLUDE SQLCA;                                                00640000
0/********************************************************************/ 00650000
 /*                 M I S C E L L A N I O U S   F I E L D S          */ 00660000
 /********************************************************************/ 00670000
 DCL ADDR           BUILTIN;                                            00680000
 DCL NULL           BUILTIN;                                            00690000
 DCL STRING         BUILTIN;                                            00700000
 DCL WRK_LEVEL      FIXED BIN (15);                                     00710000
1/********************************************************************/ 00720000
 /*                 S T A R T   P R O C E S S I N G                  */ 00730000
 /********************************************************************/ 00740000
 WRK_LEVEL = PARM_INT_AREA.ID_MOD_LEVEL + 1;                            00750000
 PARM_INT_AREA.ID_MOD_LEVEL            = WRK_LEVEL;                     00760000
 PARM_INT_AREA.ID_MOD_PATH (WRK_LEVEL) = 'RCBI67M';                     00770000
0/********************************************************************/ 00780000
 /*      SELECT ROW                                                  */ 00790000
 /********************************************************************/ 00800000
 EXEC SQL                                                               00810000
      SELECT *                                                          00820000
      INTO   :RCB670S :RCB670SI.INDNULL                                 00830000
      FROM   RCBV0670_CCMS_KEYS                                         00840000
      WHERE  CEDS_CTRY_NUMBER   = :RCB670S.CEDS_CTRY_NUMBER             00850000
        AND  CEDS_SOURCE_ID     = :RCB670S.CEDS_SOURCE_ID               00860000
        AND  CEDS_LONG_KEY      = :RCB670S.CEDS_LONG_KEY;               00870000
                                                                        00880000
 SELECT (SQLCA.SQLCODE);                                                00890000
   WHEN (0) DO;                                                         00900000
     RCBZ02S.RETURN_CODE = 0;                                           00910000
   END;                                                                 00920000
   WHEN (+100) DO;                                                      00930000
     SQLCA_R             = SQLCA;                                       00940000
     RCBZ02S.RETURN_CODE = 4;                                           00950000
   END;                                                                 00960000
   OTHERWISE DO;                                                        00970000
     SQLCA_R             = SQLCA;                                       00980000
     RCBZ02S.RETURN_CODE = 20;                                          00990000
   END;                                                                 01000000
 END;                                                                   01010000
0/********************************************************************/ 01020000
                                         /* RESET LEVEL              */ 01030000
 PARM_INT_AREA.ID_MOD_LEVEL = WRK_LEVEL - 1;                            01040000
                                                                        01050000
 %INCLUDE DAIFPLH ;                    /* COMPILE DATE/TIME STAMP    */ 01060000
 $DAIMOD (RCBI67M);                    /* MODULE TO BE COMPILED      */ 01070000
 END RCBI67M;                                                           01080000